<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Guillotine - æ€ æƒ°æ˜¯æ­£ã‚¢ãƒ—ãƒª</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <div class="container">
        <header>
            <h1 class="app-title">â˜ ï¸ Social Guillotine</h1>
            <p class="subtitle">æ€ æƒ°ã¯ã€Œç¤¾ä¼šçš„ãªæ­»ã€ã§å„Ÿãˆã€‚</p>
            <button id="openModalBtn" class="add-btn">âš ï¸ å¥‘ç´„æ›¸ã«ç½²åï¼ˆã‚¿ã‚¹ã‚¯è¿½åŠ ï¼‰</button>
        </header>

        <main>
            <ul class="task-list">
                {% for task in tasks %}
                    <li class="task-item {% if task.is_punished %}expired{% endif %}">
                        <div class="task-info">
                            <span class="task-name">{{ task.title }}</span>
                            
                            <div class="task-meta">
                                {% if task.deadline %}
                                    <span class="deadline">â³ {{ task.deadline.strftime('%Y/%m/%d %H:%M') }}</span>
                                {% endif %}
                                {% if task.penalty_text %}
                                    <span class="penalty">ğŸ’£ ç½°: {{ task.penalty_text }}</span>
                                {% endif %}
                            </div>

                            {% if task.is_punished %}
                                <div class="punished-msg">ğŸ’€ åŸ·è¡Œæ¸ˆã¿ï¼šãƒ„ã‚¤ãƒ¼ãƒˆãŒé€ä¿¡ã•ã‚Œã¾ã—ãŸ</div>
                            {% endif %}
                        </div>

                        <form action="{{ url_for('delete_task', task_id=task.id) }}" method="post">
                            <button type="submit" class="delete-btn">è§£é™¤ï¼ˆå®Œäº†ï¼‰</button>
                        </form>
                    </li>
                {% else %}
                    <li class="no-task">ç¾åœ¨ã€å‘½ï¼ˆãƒ—ãƒ©ã‚¤ãƒ‰ï¼‰ã¯å®‰å…¨ã§ã™ã€‚</li>
                {% endfor %}
            </ul>
        </main>
    </div>

    <div id="addTaskModal" class="modal">
        <div class="modal-content input-mode">
            <span class="close-btn">&times;</span>
            <h2>ğŸ’€ å‡¦åˆ‘å¥‘ç´„æ›¸ã®ä½œæˆ</h2>
            <form action="{{ url_for('add_task') }}" method="post">
                
                <label>ç¾©å‹™ï¼ˆã‚¿ã‚¹ã‚¯å†…å®¹ï¼‰</label>
                <input type="text" name="task_title" placeholder="ä¾‹ï¼šæ˜æ—¥ã®1é™ã«å‡ºå¸­ã™ã‚‹" required>

                <label>æœŸé™ï¼ˆTime Limitï¼‰</label>
                <input type="datetime-local" name="deadline" required>

                <label style="color: #e74c3c; font-weight: bold;">ä¸å±¥è¡Œæ™‚ã®ç¤¾ä¼šçš„åˆ¶è£ï¼ˆè‡ªå‹•æŠ•ç¨¿ï¼‰</label>
                <textarea name="penalty_text" placeholder="ä¾‹ï¼šç§ã¯å£ã ã‘ã®ç„¡èƒ½ã§ã™ã€‚æ˜æ—¥ã€‡ã€‡ã§å¥¢ã‚Šã¾ã™ã€‚" required></textarea>

                <button type="submit" class="danger-btn">ğŸ©¸ è¡€åˆ¤ã‚’æŠ¼ã—ã¦è¿½åŠ </button>
            </form>
        </div>
    </div>

    <div id="fakeTweetModal" class="modal tweet-modal">
        <div class="modal-content tweet-content">
            <h3 style="color: #1da1f2;">Twitter (X) è‡ªå‹•æŠ•ç¨¿é€šçŸ¥</h3>
            <p>ä»¥ä¸‹ã®å†…å®¹ãŒã‚ãªãŸã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‹ã‚‰æŠ•ç¨¿ã•ã‚Œã¾ã—ãŸã€‚</p>
            
            <div class="fake-tweet-card">
                <div class="tweet-header">
                    <div class="tweet-icon"></div>
                    <div class="tweet-name">ã‚ãªãŸã®åå‰ <span style="color:gray">@lazy_student</span></div>
                </div>
                <div class="tweet-body" id="tweetTextDisplay">
                    </div>
                <div class="tweet-footer">
                    <span>ğŸ’¬ 12</span> <span>Undefined 89</span> <span>â¤ï¸ 204</span>
                </div>
            </div>

            <p style="margin-top: 20px; color: red; font-weight: bold;">ç¤¾ä¼šçš„ä¿¡ç”¨ãŒå¤±å¢œã—ã¾ã—ãŸã€‚</p>
            <button onclick="closeTweetModal()" class="close-tweet-btn">çµ¶æœ›ã—ã¦é–‰ã˜ã‚‹</button>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>